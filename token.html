<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Create Chaos - Floop</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="images/icons/floop-favicon.ico" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet" />

  <meta name="description" content="Start your chaos on Floop.fun. Create meme tokens instantly." />
  <meta property="og:title" content="Floop - Create Chaos" />
  <meta property="og:image" content="images/preview.jpg" />
  <meta name="twitter:card" content="summary_large_image" />
</head>
<body class="intro-glitch">
<canvas id="particle-canvas"></canvas>

<!-- HEADER -->
<header class="boop-header">
  <div class="boop-left">
    <img src="images/floop-mascot.png" alt="Floop Mascot" class="boop-logo" />
  </div>
  <div class="boop-center">
    <button id="connectWallet" class="connect-btn">Connect</button>
    <button id="searchBtn" class="icon-btn">üîç</button>
  </div>
  <div class="boop-right">
    <button class="icon-btn" id="menuBtn">‚ò∞</button>
  </div>
</header>

<!-- MOBILE MENU -->
<div class="mobile-menu hidden" id="mobileMenu">
  <ul>
    <li><a href="https://x.com/floopfun" target="_blank"><img src="images/icons/x.svg" class="menu-icon" /> X</a></li>
    <li><a href="https://t.me/floopfun" target="_blank"><img src="images/icons/telegram.svg" class="menu-icon" /> Telegram</a></li>
    <li><a href="#"><img src="images/icons/chart.svg" class="menu-icon" /> Chart</a></li>
  </ul>
</div>

<!-- MASKOT ANƒ∞MASYONU ALANI -->
<div id="mascotChaos" class="hidden">
  <img src="images/floop-mascot.png" alt="Floop Mascot" class="mascot-popup" />
</div>
<!-- FORM BA≈ûLANGICI -->
<section class="token-form-container" id="tokenFormSection">
  <div class="form-content">
    <!-- G√∂rsel Y√ºkleme Alanƒ± -->
    <div class="form-image-upload" id="imageUploadBox">
      Click or Drop Image Here
      <input type="file" id="tokenImage" accept="image/*" hidden />
    </div>

    <!-- Form Inputlarƒ± -->
    <div class="form-fields">
      <input type="text" id="tokenName" placeholder="Token Name" required />
      <input type="text" id="tokenSymbol" placeholder="Ticker Symbol (e.g. $CHAOS)" required />
      <textarea id="tokenLore" rows="3" placeholder="Kaos Lore..."></textarea>
      <!-- Sosyal Linkler Dropdown -->
      <select id="tokenSocials">
        <option value="">Add Socials</option>
        <option value="x">X (Twitter)</option>
        <option value="telegram">Telegram</option>
        <option value="website">Website</option>
      </select>

      <!-- Pre-buy checkbox -->
      <label class="prebuy-checkbox">
        <input type="checkbox" id="preBuy" />
        Enable Pre-Buy
      </label>

      <!-- Pre-buy y√ºzdelik butonlarƒ± -->
      <div class="prebuy-options hidden" id="preBuyOptions">
        <button type="button" data-percent="1">%1</button>
        <button type="button" data-percent="5">%5</button>
        <button type="button" data-percent="10">%10</button>
        <button type="button" data-percent="50">%MAX</button>
      </div>

      <!-- Maliyet -->
      <p class="cost">pre-buy cost: <span id="cost">0 SOL</span></p>

      <!-- Launch Button -->
      <button type="submit" class="connect-btn" id="mintTokenBtn">Launch</button>
      <p id="formStatus" class="wallet-status"></p>
    </div>
  </div>
</section>
<!-- FOOTER NAV -->
<nav class="bottom-nav">
  <a href="index.html" class="nav-link">
    <img src="images/icons/cult.png" />
    <span>cults</span>
  </a>
  <a href="rewards.html" class="nav-link">
    <img src="images/icons/rewards.png" />
    <span>rewards</span>
  </a>
  <a href="staking.html" class="nav-link">
    <img src="images/icons/staking.png" />
    <span>staking</span>
  </a>
  <a href="leaderboard.html" class="nav-link">
    <img src="images/icons/leaderboard.png" />
    <span>leaderb.</span>
  </a>
  <a href="airdrop.html" class="nav-link">
    <img src="images/icons/airdrop.png" />
    <span>airdrop</span>
  </a>
</nav>

<!-- MUTE BUTTON -->
<button id="muteToggle" class="mute-button">üîä</button>

<!-- EXTERNAL SCRIPTS -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
<script src="https://cdn.jsdelivr.net/npm/@solana/web3.js@latest/lib/index.iife.min.js"></script>
<script src="script.js"></script>
<!-- INLINE JS -->
<script>
  // Sayfa y√ºklenince glitch efekti kaldƒ±rƒ±lsƒ±n
  window.addEventListener("load", () => {
    setTimeout(() => {
      document.body.classList.remove("intro-glitch");
    }, 700);
  });

  // G√∂rsel √∂nizleme
  const imageBox = document.getElementById("imageUploadBox");
  const imageInput = document.getElementById("tokenImage");
  imageBox?.addEventListener("click", () => imageInput.click());
  imageInput?.addEventListener("change", () => {
    const file = imageInput.files[0];
    if (file) {
      imageBox.innerHTML = `<img src="${URL.createObjectURL(file)}" alt="Preview" class="preview-img" />`;
    }
  });

  // Pre-buy toggle
  const preBuyCheckbox = document.getElementById("preBuy");
  const preBuyOptions = document.getElementById("preBuyOptions");
  preBuyCheckbox?.addEventListener("change", () => {
    preBuyOptions.classList.toggle("hidden", !preBuyCheckbox.checked);
  });

  // Pre-buy y√ºzdelik hesap
  const costDisplay = document.getElementById("cost");
  document.querySelectorAll("#preBuyOptions button").forEach(btn => {
    btn.addEventListener("click", () => {
      const percent = parseInt(btn.dataset.percent);
      const cost = (percent * 0.02).toFixed(2);
      costDisplay.textContent = `${cost} SOL`;
    });
  });

  // Launch butonuna tƒ±klanƒ±nca validasyon
  document.getElementById("mintTokenBtn")?.addEventListener("click", (e) => {
    e.preventDefault();
    const name = document.getElementById("tokenName").value.trim();
    const symbol = document.getElementById("tokenSymbol").value.trim();
    const status = document.getElementById("formStatus");

    if (!name || !symbol) {
      status.textContent = "Token name and symbol are required!";
      return;
    }

    // ƒ∞leri i≈ülemler (backend entegrasyonu) buraya
    alert(`Token launched: ${name} (${symbol})`);
    status.textContent = "Token successfully launched!";
  });
</script>

</body>
</html>
